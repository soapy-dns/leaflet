<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
    <title>Leaflet test</title>
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="author" content="IAG Limited">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="apple-touch-icon" href="/assets/images/apple-icon.png">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.2.0/dist/leaflet.css"
          integrity="sha512-M2wvCLH6DSRazYeZRIm1JnYyh22purTM+FDB5CsyxtQJYeKq83arPe5wgbNmcFXGqiSH2XR8dT/fJISVA1r/zQ=="
          crossorigin=""/>
    <link rel="stylesheet" href="./main.css" />
    <!-- Make sure you put this AFTER Leaflet's CSS -->
    <script src="https://unpkg.com/leaflet@1.2.0/dist/leaflet.js"
            integrity="sha512-lInM/apFSqyy1o6s89K4iQUKg6ppXEgsVxT35HbzUupEVRh2Eu9Wdl4tHj7dZO0s1uvplcYGmt3498TtHq+log=="
            crossorigin=""></script>

    <script src="https://unpkg.com/esri-leaflet@2.1.1"></script>


</head>
<body>
<div id="mapid"></div>
<script>

    // initialize the map - dundee
//    const mymap = L.map('mapid').setView([56.4620, -2.9707], 13);

    //initialize map - sydney
//    const mymap = L.map('mapid').setView([-33.8688, -151.2093], 13);




    // load a tile layer
//    L.tileLayer('http://tiles.mapc.org/basemap/{z}/{x}/{y}.png',
//            {
//                attribution: 'Tiles by <a href="http://mapc.org">MAPC</a>, Data by <a href="http://mass.gov/mgis">MassGIS</a>',
//                maxZoom: 17,
//                minZoom: 9
//            }).addTo(map);
//    L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1Ijoic29hcHkiLCJhIjoiY2phYXJxdjJxMGtoaDM1cGUyNGtsYm9ncCJ9.QAGev1jwbYm4IoijOOlksA', {
//        attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="http://mapbox.com">Mapbox</a>',
//        maxZoom: 18,
//        id: 'mapbox.streets',
//        accessToken: 'your.mapbox.access.token'
//    }).addTo(map);
    /*
    Add tile layer
     */
//    L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1Ijoic29hcHkiLCJhIjoiY2phYXJxdjJxMGtoaDM1cGUyNGtsYm9ncCJ9.QAGev1jwbYm4IoijOOlksA', {
//        attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="http://mapbox.com">Mapbox</a>',
//        maxZoom: 18,
//        id: 'mapbox.streets'
////        accessToken: 'your.mapbox.access.token'
//    }).addTo(mymap);

    const baseLayer = L.esri.basemapLayer("Gray");

    // topo layer
    const topoLayer = L.esri.tiledMapLayer({
        url: 'http://maps.six.nsw.gov.au/arcgis/rest/services/public/NSW_Topo_Map/MapServer'

//        maxZoom: 15
    });

    // satellite image layer
    const imageLayer = L.esri.tiledMapLayer({
        url: 'http://maps.six.nsw.gov.au/arcgis/rest/services/public/NSW_Imagery/MapServer'

//        maxZoom: 15
    });

//    const mymap = L.map('mapid').setView([-33.75999, -209.59236], 15);
    const mymap = L.map('mapid', {
        center: [-33.75999, -209.59236],
        zoom: 10,
        layers: [baseLayer, imageLayer, topoLayer]
    });

    const baseMaps = {
        "Base": baseLayer,
        "Image": imageLayer
    };
    const overLayMaps = {
        "Overlay": topoLayer
    };
    L.control.layers(baseMaps, overlayMaps).addTo(mymap);
    /*
    Add marker with popup
     */
//    const marker = L.marker([56.4620, -2.9707]).addTo(mymap);
//    marker.bindPopup("<b>Dundee</b><br>Navel of the universe.").openPopup();

//    http://maps.six.nsw.gov.au/arcgis/rest/services/public/NSW_Topo_Map/MapServer/tile/13/4911/7516

    /*
    Add a polygon - encloses an area
    */
//    var polygon = L.polygon([
//        [56.469, -2.971],
//        [56.4620, -2.9707],
//        [56.4500, -2.96]
//    ]).addTo(mymap);

    /*
    Add event
     */
    const popup = L.popup();

    function onMapClick(e) {
        popup
                .setLatLng(e.latlng)
                .setContent("You clicked the map at " + e.latlng.toString())
                .openOn(mymap);
    }

    mymap.on('click', onMapClick);


    /*
    Add a line with geoJson
     */
//    const myLines = [{
//        "type": "LineString",
//        "coordinates": [[56.468, -2.971],
//            [56.4610, -2.9707],
//            [56.4490, -2.96]]
//    }, {
//        "type": "LineString",
//        "coordinates": [[56.467, -2.971],
//            [56.4600, -2.9707],
//            [56.4480, -2.96]]
//    }];

//    const myLayer = L.geoJSON().addTo(mymap);
//    myLayer.addData(myLines);
//
//    const geojsonFeature = {
//        "type": "Feature",
//        "properties": {
//            "name": "Coors Field",
//            "amenity": "Baseball Stadium",
//            "popupContent": "This is where the Rockies play!"
//        },
//        "geometry": {
//            "type": "Point",
//            "coordinates": [56.4480, -2.96]
//        }
//    };
//    myLayer.addData(geojsonFeature);


</script>
</body>
</html>
